import{a as P,b as w}from"./chunk-26P5D4RR.js";import"./chunk-5JQXZNA7.js";import{a as E}from"./chunk-6TQQLW6Z.js";import{Oa as r,Pa as b,Ya as d,Zb as T,_a as c,_b as A,ab as i,bb as n,cb as f,cc as M,da as _,e as O,fb as x,hb as v,ib as l,la as u,ma as g,mb as s,nb as C,ob as p,vb as k}from"./chunk-42U72ICL.js";var m=O(E());function R(a,o){if(a&1&&(i(0,"span"),s(1),n()),a&2){let e=o.$implicit;r(),p("",e," ")}}function I(a,o){if(a&1){let e=x();i(0,"button",13),v("click",function(){let h=u(e).$implicit,y=l();return g(y.verificarLetra(h))}),s(1),n()}if(a&2){let e=o.$implicit,t=l();c("disabled",t.letrasUsadas.includes(e)||t.intentosRestantes===0||t.mensaje!==""),r(),p(" ",e," ")}}function j(a,o){if(a&1){let e=x();i(0,"div")(1,"p"),s(2),n(),i(3,"button",14),v("click",function(){u(e);let h=l();return g(h.inicializarJuego())}),s(4,"Jugar de nuevo"),n()()}if(a&2){let e=l();r(2),C(e.mensaje)}}var S=class a{constructor(o,e){this.resultadosService=o;this.userService=e;this.inicializarJuego()}palabras=["ANGULAR","REACT","VUE","JAVASCRIPT","HTML","CSS","NODEJS","PYTHON","JAVA","SWIFT"];palabra="";palabraMostrada=[];intentosRestantes=6;letrasDisponibles="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");letrasUsadas=[];mensaje="";score=0;ngAfterViewInit(){this.dibujarBase()}inicializarJuego(){this.palabra=this.elegirPalabraAleatoria(),this.palabraMostrada=Array(this.palabra.length).fill("_"),this.intentosRestantes=6,this.letrasUsadas=[],this.mensaje="",this.score=0}elegirPalabraAleatoria(){let o=Math.floor(Math.random()*this.palabras.length);return this.palabras[o]}verificarLetra(o){if(!this.letrasUsadas.includes(o))if(this.letrasUsadas.push(o),this.palabra.includes(o)){for(let e=0;e<this.palabra.length;e++)this.palabra[e]===o&&(this.palabraMostrada[e]=o,this.score+=10);this.palabraMostrada.includes("_")||(this.mensaje="\xA1Ganaste!",this.guardarResultado(),this.mostrarResultado("\xA1Ganaste!","\xA1Felicidades! Tu puntuaci\xF3n es: "+this.score),this.limpiarAhorcado())}else this.intentosRestantes--,this.dibujarAhorcado(this.intentosRestantes),this.intentosRestantes===0&&(this.mensaje="\xA1Perdiste! La palabra era "+this.palabra,this.guardarResultado(),this.mostrarResultado("\xA1Perdiste!","La palabra era: "+this.palabra+". Tu puntuaci\xF3n es: "+this.score),this.limpiarAhorcado())}mostrarResultado(o,e){m.default.fire({title:o,text:e,icon:"info",showCancelButton:!0,confirmButtonText:"Jugar de nuevo",cancelButtonText:"Salir"}).then(t=>{t.isConfirmed?this.inicializarJuego():console.log("El usuario ha decidido salir del juego.")})}guardarResultado(){let o=this.userService.getUserEmail();o?this.resultadosService.guardarResultado(o,"Ahorcado",this.score).then(()=>{console.log("Resultado guardado exitosamente")}).catch(e=>{console.error("Error al guardar el resultado:",e),m.default.fire({title:"Error",text:"Error al guardar el resultado. Intenta de nuevo m\xE1s tarde.",icon:"error",confirmButtonText:"Aceptar"})}):(console.error("No se pudo obtener el email del usuario."),m.default.fire({title:"Error",text:"No se pudo obtener el email del usuario. Aseg\xFArate de que est\xE1s autenticado.",icon:"error",confirmButtonText:"Aceptar"}))}dibujarBase(){let o=document.getElementById("canvasAhorcado"),e=o.getContext("2d");e&&(e.clearRect(0,0,o.width,o.height),e.lineWidth=5,e.strokeStyle="black",e.beginPath(),e.moveTo(40,380),e.lineTo(280,380),e.moveTo(150,380),e.lineTo(150,60),e.moveTo(150,60),e.lineTo(320,60),e.moveTo(320,60),e.lineTo(320,120),e.stroke())}dibujarAhorcado(o){let t=document.getElementById("canvasAhorcado").getContext("2d");if(t)switch(t.lineWidth=2,t.strokeStyle="black",o){case 5:t.beginPath(),t.arc(320,140,20,0,Math.PI*2),t.stroke();break;case 4:t.beginPath(),t.moveTo(320,160),t.lineTo(320,240),t.stroke();break;case 3:t.beginPath(),t.moveTo(320,180),t.lineTo(290,210),t.stroke();break;case 2:t.beginPath(),t.moveTo(320,180),t.lineTo(350,210),t.stroke();break;case 1:t.beginPath(),t.moveTo(320,240),t.lineTo(290,300),t.stroke();break;case 0:t.beginPath(),t.moveTo(320,240),t.lineTo(350,300),t.stroke();break}}limpiarAhorcado(){let e=document.getElementById("canvasAhorcado").getContext("2d");e&&e.clearRect(290,120,60,200)}static \u0275fac=function(e){return new(e||a)(b(w),b(P))};static \u0275cmp=_({type:a,selectors:[["app-ahorcado"]],standalone:!0,features:[k],decls:17,vars:4,consts:[[1,"stars"],[1,"star",2,"top","10%","left","20%","width","5px","height","5px"],[1,"star",2,"top","30%","left","50%","width","3px","height","3px"],[1,"star",2,"top","40%","left","70%","width","7px","height","7px"],[1,"star",2,"top","60%","left","10%","width","4px","height","4px"],[1,"star",2,"top","80%","left","90%","width","2px","height","2px"],[1,"container"],["id","canvasAhorcado","width","400","height","400",2,"border","1px solid #000","margin-bottom","20px"],[1,"word"],[4,"ngFor","ngForOf"],[1,"keyboard"],[3,"disabled","click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"click","disabled"],[3,"click"]],template:function(e,t){e&1&&(i(0,"div",0),f(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),n(),i(6,"div",6)(7,"h1"),s(8,"Ahorcado"),n(),f(9,"canvas",7),i(10,"div",8),d(11,R,2,1,"span",9),n(),i(12,"p"),s(13),n(),i(14,"div",10),d(15,I,2,2,"button",11),n(),d(16,j,5,1,"div",12),n()),e&2&&(r(11),c("ngForOf",t.palabraMostrada),r(2),p("Intentos restantes: ",t.intentosRestantes,""),r(2),c("ngForOf",t.letrasDisponibles),r(),c("ngIf",t.mensaje!==""))},dependencies:[M,T,A],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;position:relative;margin:0;overflow:hidden;background-color:#1a1a2e}.container[_ngcontent-%COMP%]{font-family:Arial,sans-serif;color:#fff;max-width:1600px;height:100%;margin:auto;padding:20px;border:2px solid rgba(255,255,255,.3);border-radius:8px;background-color:#191932e6;box-shadow:0 4px 20px #00000080;display:flex;flex-direction:column;align-items:center}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}canvas#canvasAhorcado[_ngcontent-%COMP%]{width:400px;height:400px;border:2px solid #00adb5;border-radius:8px;background-color:#fff;margin-bottom:20px;box-shadow:0 0 20px #00adb5cc}.word[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;letter-spacing:8px;margin:15px 0;text-shadow:0 0 5px rgba(0,173,181,.8)}p[_ngcontent-%COMP%]{font-size:1em;color:#bbb;margin:10px 0}.keyboard[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:10px;width:100%;margin:15px 0}.keyboard[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;font-size:1em;font-weight:700;color:#fff;background-color:#0f3460;border:2px solid #00adb5;border-radius:5px;cursor:pointer;transition:background-color .2s,transform .1s,box-shadow .2s;position:relative;overflow:hidden}.keyboard[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#555;cursor:not-allowed}.keyboard[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:disabled):hover{background-color:#00adb5;box-shadow:0 0 10px #00adb5,0 0 20px #00adb5}.keyboard[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:disabled):active{transform:scale(.95)}div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700;color:#fff}button[_ngcontent-%COMP%]{padding:10px 15px;font-size:1em;color:#fff;background-color:#ff4757;border:none;border-radius:5px;cursor:pointer;margin-top:10px;transition:background-color .3s,transform .2s}button[_ngcontent-%COMP%]:hover{background-color:#ff6b81;transform:scale(1.05)}']})};export{S as AhorcadoComponent};
